<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Courses Grid</title>

    <!-- Css Files -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/flaticon.css" rel="stylesheet">
    <link href="css/slick-slider.css" rel="stylesheet">
    <link href="css/prettyphoto.css" rel="stylesheet">
    <link href="build/mediaelementplayer.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="css/color.css" rel="stylesheet">
    <link href="css/color-two.css" rel="stylesheet">
    <link href="css/color-three.css" rel="stylesheet">
    <link href="css/color-four.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
<style>
    .picture-logo{
        width: 64px;
        height: 80px;
    }
</style>
</head>

<body onload="loadCourses();populateSchoolFilter();loadPage()">

    <!--// Main Wrapper \\-->
    <div class="wm-main-wrapper">

        <!--// Header \\-->
        <header id="wm-header" class="wm-header-one">

            <!--// TopStrip \\-->
            <div class="wm-topstrip">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">

                            <ul class="wm-adminuser-section">
                                <li>
                                    <a id="welcome">Hi, John Teo Tjia Ern.</a>
                                </li>
                                <li>

                                </li>
                                <li>
                                    <a href="#" class="wm-search-btn" data-toggle="modal" data-target="#ModalSearch"><i
                                            class="wmicon-search"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!--// TopStrip \\-->

            <!--// MainHeader \\-->
            <div class="wm-main-header">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3"><a href="index.html" class="wm-logo"><img src="images/smulogo.png"
                                    width="130px" height="50px"></a></div>
                        <div class="col-md-9">
                            <!--// Navigation \\-->
                            <nav class="navbar navbar-default">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                        data-target="#navbar-collapse-1" aria-expanded="true">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                </div>
                                <div class="collapse navbar-collapse" id="navbar-collapse-1">
                                    <ul class="nav navbar-nav" id="topNav">
                                        <li class="active">
                                            <a href="index.html">Home</a>
                                        </li>

                                        <li>
                                            <a href="courses-grid.html">Course Openings</a>
                                        </li>

                                        <li>
                                            <a href="student-profile.html">Profile</a>
                                        </li>

                                        <li>
                                            <a href="student-payment.html" id="payment">Payment</a>
                                        </li>

                                        <li class="wm-megamenu-li" id="logout">
                                            <a href="logout.html">Logout</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <!--// MainHeader \\-->

        </header>
        <!--// Header \\-->

        <!--// Mini Header \\-->
        <div class="wm-mini-header">
            <span class="wm-blue-transparent"></span>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="wm-mini-title">
                            <h1>Available Courses to TA for</h1>
                        </div>
                        <div class="wm-breadcrumb">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="index.html">Courses</a></li>
                                <li>Grid</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Mini Header \\-->

        <!--// Main Content \\-->
        <div class="wm-main-content">

            <!--// Main Section \\-->
            <div class="wm-main-section">
                <div class="container">
                    <div class="row">

                        <aside class="col-md-3">
                            <div class="widget wm-search-course">
                                <h3 class="wm-short-title wm-color">Find Your Course</h3>
                                <p>Find your course here:</p>
                                <form>
                                    <ul>
                                        <li> 
                                            <input type="text" value="Course Name" id="filterCourseName"
                                                oninput="filterAccordingToCourseName()"
                                                onblur="if(this.value == '') { this.value ='Course Name'; }"
                                                onfocus="if(this.value =='Course Name') { this.value = ''; }"> <i
                                                class="wmicon-search"></i> 
                                        </li>
                                        <li> <input type="submit" value="Search course"> </li>
                                    </ul>
                                </form>
                            </div>
                            <div class="widget widget_check-box">
                                <h5>Search By Type</h5>
                                <ul id="schoolType">

                                </ul>
                            </div>


                            <div class="widget widget_check-box">
                                <h5>Search By Level</h5>
                                <ul>
                                    <li>
                                        <div class="wm-level-checkbox ifChecked">
                                            <input id="level1" type="checkbox" value="Introductory" onclick="filters()">
                                            <label for="level1">
                                                <span></span>
                                                Introductory
                                            </label>
                                        </div>
                                        <div class="wm-levelrating">
                                            <span class="rating-box" style="width:40%"></span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="wm-level-checkbox ifChecked">
                                            <input id="level2" type="checkbox" value="Intermediate" onclick="filters()">
                                            <label for="level2">
                                                <span></span>
                                                Intermediate
                                            </label>
                                        </div>
                                        <div class="wm-levelrating">
                                            <span class="rating-box" style="width:80%"></span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="wm-level-checkbox ifChecked">
                                            <input id="level3" type="checkbox" value="Advanced" onclick="filters()">
                                            <label for="level3">
                                                <span></span>
                                                Advanced
                                            </label>
                                        </div>
                                        <div class="wm-levelrating">
                                            <span class="rating-box" style="width:120%"></span>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                        </aside>

                        <div class="col-md-9">
                            <div class="wm-filter-box">
                                <div class="wm-apply-select">
                                    <select id="positionList">
                                        <option value="1">1 Position</option>
                                        <option value="2">2 Positions</option>
                                        <option value="3">3 Positions</option>
                                        <option value="4">4 Positions</option>
                                    </select>
                                </div>

                                <div class="wm-view-btn">
                                    <a href="#" class="wmicon-squares active"></a>
                                </div>
                            </div>
                            <div class="wm-courses wm-courses-popular">
                                <table id="courseList" class="row"></table>

                                </table>
                            </div>
                            
                        </div>

                    </div>
                </div>
            </div>
            <!--// Main Section \\-->

        </div>
        <!--// Main Content \\-->

        <!--// Footer \\-->
        <footer id="wm-footer" class="wm-footer-one">

            <!--// FooterNewsLatter \\-->
            <div class="wm-footer-newslatter">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                
                                <input type="submit" value="Copyrighted by Singapore Management University">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!--// FooterNewsLatter \\-->

            <!--// FooterWidgets \\-->
            <div class="wm-footer-widget">
                <div class="container">
                    <div class="row">
                        <aside class="widget widget_contact_info col-md-3">
                            <a href="index.html" class="wm-footer-logo"><img src="images/smulogo.png" alt="" width = "197px" height = "62px"></a>
                            <ul>
                                <li><i class="wm-color wmicon-pin"></i> 81 Victoria St, Singapore 188065</li>
                                <li><i class="wm-color wmicon-phone"></i> Tel: +65 6828 0100
                                    
                                    <br> Fax: +65 6828 0101</li>
                                <li><i class="wm-color wmicon-letter"></i> <a
                                        href="mailto:enquiry@smu.edu.sg">enquiry@smu.edu.sg</a> <a></a>
                            </ul>
                            <div class="wm-footer-icons">
                                <a href="https://www.facebook.com/sgsmu" class="wmicon-social5"></a>
                                <a href="https://twitter.com/sgsmu" class="wmicon-social4"></a>
                                <a href="https://www.linkedin.com/company/singapore-management-university/" class="wmicon-social3"></a>
                            </div>
                        </aside>
                        
                       
                        <aside class="widget widget_gallery col-md-3">
                            <div class="wm-footer-widget-title">
                                <h5>Some of our Professors</h5>
                            </div>
                            <ul class="gallery">
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/aplin.jpg"><img class = "picture-logo"
                                            src="images/aplin.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/benjaminjong.jpg"><img class = "picture-logo"
                                            src="images/benjaminjong.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/bthuynh.jpg"><img class = "picture-logo"
                                            src="images/bthuynh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/charlescsy.jpg"><img class = "picture-logo"
                                            src="images/charlescsy.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/cposkitt.jpg"><img class = "picture-logo"
                                            src="images/cposkitt.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/davidlo.jpg"><img class = "picture-logo"
                                            src="images/davidlo.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/lkshar.jpg"><img class = "picture-logo"
                                            src="images/lkshar.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rajesh.jpg"><img class = "picture-logo"
                                            src="images/rajesh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rafaelbarros.jpg"><img class = "picture-logo"
                                            src="images/rafaelbarros.jpg" alt=""></a></li>
                            </ul>
                        </aside>
                    </div>
                </div>
            </div>

        </footer>

        <div class="clearfix"></div>
    </div>

    

        <!-- jQuery (necessary for JavaScript plugins) -->
        <script type="text/javascript" src="script/jquery.js"></script>
        <script type="text/javascript" src="script/modernizr.js"></script>
        <script type="text/javascript" src="script/bootstrap.min.js"></script>
        <script type="text/javascript" src="script/jquery.prettyphoto.js"></script>
        <script type="text/javascript" src="script/jquery.countdown.min.js"></script>
        <script type="text/javascript" src="script/fitvideo.js"></script>
        <script type="text/javascript" src="script/skills.js"></script>
        <script type="text/javascript" src="script/slick.slider.min.js"></script>
        <script type="text/javascript" src="script/waypoints-min.js"></script>
        <script type="text/javascript" src="build/mediaelement-and-player.min.js"></script>
        <script type="text/javascript" src="script/isotope.min.js"></script>
        <script type="text/javascript" src="script/jquery.nicescroll.min.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
        <script type="text/javascript" src="script/functions.js"></script>


        <script>
            //check lines 500-504
            


            function showChanges() {
                var selected = [];
                $('.ifChecked input:checked').each(function () {
                    selected.push($(this).attr('value'));
                });
                console.log(selected)
            }

            //-------------------------------------------------------------------------------------------------------------//

            if (userEmail == null && localStorage.getItem("email") != null) {
                var userEmail = localStorage.getItem("userEmail")
            }
            if (userID == null && localStorage.getItem("userID") != null) {
                var userID = localStorage.getItem("userID")
            }
            if (userName == null && localStorage.getItem("userName") != null) {
                var userName = localStorage.getItem("userName")
            }
            if (userType == null && localStorage.getItem("userType") != null) {
                var userType = localStorage.getItem("userType")
            }
            // if (localStorage.getItem("email") == null ){
            //     window.location = "http://localhost/app/login/";
            //     Redirect();
            // }

            //-------------------------------------------------------------------------------------------------------------//

            function loadCourses() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {

                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        const urlParams = new URL(document.location).searchParams;
                        const myParam = urlParams.get('mod_id');
                        // console.log(myParam);
                        if (myParam) {
                            loadAccordingToFilters(myParam, []);
                            console.log(sessionStorage);
                            return true;
                        }
                        var item = JSON.parse(xhttp.responseText);
                        
                        var itemToAdd = `<tr>`
                        item['modules'].sort(function (a, b) {
                            if (a['mod_name'] < b['mod_name']) {
                                return -1;
                            }
                            if (a['mod_name'] > b['mod_name']) {
                                return 1;
                            }
                            return 0;
                        })
                        var count = 0;
                        for (let i = 1; i <= item['modules'].length; i++) {
                            var x = ``;

                            if (item['modules'][i - 1]['positions_available'] == 1) {
                                x = `style = 'color:red'`
                            } else {
                                x = `style = 'color:#90ee90'`
                            }
                            count += 1;
                            if (count % 3 == 0) {
                                itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                            <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                <figcaption>
                                                    <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                    <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['professor_name']}</a></h6>
                                                </figcaption>
                                            </figure>
                                            <div class="wm-popular-courses-text">
                                                <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </div>
                                                
                                            </div>
                                        </div></td></tr><tr>`;
                            } else {
                                itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                            <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                <figcaption>
                                                    <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                    <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i} ">${item['modules'][i-1]['professor_name']}</a></h6>
                                                </figcaption>
                                            </figure>
                                            <div class="wm-popular-courses-text">
                                                <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </div>
                                                
                                            </div>
                                        </div></td>`;
                            }



                        }
                        if (typeof (Storage) != "undefined") {
                            localStorage.setItem("courses", JSON.stringify(item));
                        }

                        document.getElementById("courseList").innerHTML = itemToAdd;

                    }
                }

                xhttp.open("GET", "http://localhost:5012/get_all", true);
                xhttp.send();
            }

            //-------------------------------------------------------------------------------------------------------------//

            function populateSchoolFilter() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {

                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        var item = JSON.parse(xhttp.responseText);
                        console.log(item)
                        var schools = []

                        for (let i = 0; i < item['modules'].length; i++) {

                            if (!schools.includes(item['modules'][i]['school'])) {
                                schools.push(item['modules'][i]['school']);
                            }
                        }

                        var itemToAdd = `<li class = "ifChecked">
                                            <input id="land1" type="checkbox" onclick="filters()" value = "All Courses">
                                            <label for="land1">
                                                <span></span>
                                                All Courses
                                            </label>
                                        </li>`

                        for (let i = 0; i < schools.length; i++) {
                            itemToAdd += `<li class = "ifChecked">
                                            <input id="land${i+2}" type="checkbox" onclick="filters()" value = "${schools[i]}">
                                            <label for="land${i+2}">
                                                <span></span>
                                                ${schools[i]}
                                            </label>
                                        </li>`;
                        }

                    }
                    document.getElementById("schoolType").innerHTML = itemToAdd;
                }
                xhttp.open("GET", "http://localhost:5012/get_all", true);
                xhttp.send();
            }

            //-------------------------------------------------------------------------------------------------------------//

            function loadAccordingToFilters(schools, levels) {
                console.log(schools, levels)
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        var item = JSON.parse(xhttp.responseText);
                        var itemToAdd = ``
                        if (schools.includes("All Courses") || (schools.length == 0 && levels.length == 0)) {
                            console.log("All courses is present in the array")
                            loadCourses()
                            return true;
                        }
                        var count = 0;
                        for (let i = 1; i <= item['modules'].length; i++) {
                            if (levels.length != 0) {
                                if (levels.includes(item['modules'][i - 1]['level']) && schools.includes(item[
                                        'modules'][i - 1]['school']) || (schools.length == 0 && levels.includes(
                                        item['modules'][i - 1]['level']))) {
                                    var x = ``;
                                    if (item['modules'][i - 1]['positions_available'] == 1) {
                                        x = `style = 'color:red'`
                                    } else {
                                        x = `style = 'color:#90ee90'`
                                    }
                                    count += 1;
                                    if (count % 3 == 0) {
                                        itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                                        <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                            <figcaption>
                                                                <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                                <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['professor_name']}</a></h6>
                                                            </figcaption>
                                                        </figure>
                                                        <div class="wm-popular-courses-text">
                                                            <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                            <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </div>
                                                            
                                                        </div>
                                                    </div></td></tr><tr>`;
                                    } else {
                                        itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                                        <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                            <figcaption>
                                                                <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                                <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['professor_name']}</a></h6>
                                                            </figcaption>
                                                        </figure>
                                                        <div class="wm-popular-courses-text">
                                                            <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                            <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </div>
                                                            
                                                        </div>
                                                    </div></td>`;
                                    }
                                }
                            } else if (schools.includes(item['modules'][i - 1]['school'])) {
                                var x = ``;
                                if (item['modules'][i - 1]['positions_available'] == 1) {
                                    x = `style = 'color:red'`
                                } else {
                                    x = `style = 'color:#90ee90'`
                                }
                                count += 1;
                                if (count % 3 == 0) {
                                    itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                                <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                    <figcaption>
                                                        <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                        <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['professor_name']}</a></h6>
                                                    </figcaption>
                                                </figure>
                                                <div class="wm-popular-courses-text">
                                                    <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                    <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </divcourses
                                                </div>
                                            </div></td></tr><tr>`;
                                } else {
                                    itemToAdd += `<td><div class="wm-courses-popular-wrap card-columns" style = "display:inline block">
                                                <figure> <a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                    <figcaption>
                                                        <img src = "images/${item['modules'][i-1]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                        <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['professor_name']}</a></h6>
                                                    </figcaption>
                                                </figure>
                                                <div class="wm-popular-courses-text">
                                                    <h6><a href="./courses-detail.html?mod_id=${item['modules'][i-1]['mod_id']}&imageId=${i}">${item['modules'][i-1]['mod_name']}</a></h6>
                                                    <div class="wm-courses-price"><span ${x}>${item['modules'][i-1]['positions_available']} position(s) left</span> </div>
                                                    
                                                </div>
                                            </div></td>`;
                                }
                            }




                        }
                        console.log(itemToAdd);
                        document.getElementById("courseList").innerHTML = itemToAdd;

                    }
                }

                xhttp.open("GET", "http://localhost:5012/get_all", true);
                xhttp.send();
            }

            //-------------------------------------------------------------------------------------------------------------//

            function filters() {
                var schools = [];
                var levels = []
                $('.ifChecked input:checked').each(function () {
                    let filter = $(this).attr('value');
                    if (filter == "Introductory" || filter == "Intermediate" || filter == "Advanced") {
                        levels.push(filter)
                    } else {
                        schools.push(filter);
                    }
                });
                loadAccordingToFilters(schools, levels);
            }

            //-------------------------------------------------------------------------------------------------------------//
            function filterAccordingToCourseName() {
                let query = document.getElementById("filterCourseName").value.toLowerCase();
                var courses = JSON.parse(localStorage.getItem("courses"))['modules'];
                let numberOfCourses = [];
                var itemToAdd = ``;
                var count = 0;
                for (let i = 0; i < courses.length; i++) {
                    let regex = new RegExp(query, "g")
                    if (courses[i]['mod_name'].toLowerCase().match(regex) != null) {
                        var x = ``;
                        if (courses[i]['positions_available'] == 1) {
                            x = `style = 'color:red'`
                        } else {
                            x = `style = 'color:#90ee90'`
                        }
                        count += 1;
                        if (count % 3 == 0) {
                            itemToAdd += `<td><div class="wm-courses-popular-wrap">
                                            <figure> <a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i+1}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                <figcaption>
                                                    <img src = "images/${courses[i]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                    <h6><a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}">${courses[i]['professor_name']}</a></h6>
                                                </figcaption>
                                            </figure>
                                            <div class="wm-popular-courses-text">
                                                <h6><a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}">${courses[i]['mod_name']}</a></h6>
                                                <div class="wm-courses-price"><span ${x}>${courses[i]['positions_available']} position(s) left</span> </div>
                                                
                                            </div>
                                        </div></td></tr><tr>`;
                        } else {
                            itemToAdd += `<td><div class="wm-courses-popular-wrap">
                                            <figure> <a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}"><img src="extra-images/papular-courses-${i+1}.jpg" alt=""> <span class="wm-popular-hover"> <small>see course</small> </span> </a>
                                                <figcaption>
                                                    <img src = "images/${courses[i]['professor_id']}.jpg" style="width: 60px; height: 60px;">
                                                    <h6><a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}">${courses[i]['professor_name']}</a></h6>
                                                </figcaption>
                                            </figure>
                                            <div class="wm-popular-courses-text">
                                                <h6><a href="./courses-detail.html?mod_id=${courses[i]['mod_id']}&imageId=${i}">${courses[i]['mod_name']}</a></h6>
                                                <div class="wm-courses-price"><span ${x}>${courses[i]['positions_available']} position(s) left</span> </div>
                                                
                                            </div>
                                        </div></td>`;
                        }
                    }
                }
                document.getElementById("courseList").innerHTML = itemToAdd;
            }
            //-------------------------------------------------------------------------------------------------------------//
            function loadPage() {
                document.getElementById("welcome").innerHTML = "Hi, " + userID;
                if (userType == "professor") {
                    document.getElementById("payment").id = "addOpening"
                    document.getElementById("addOpening").innerHTML = "Add TA Opening"
                    document.getElementById("addOpening").href = "add-courses.html"
                    document.getElementById("welcome").innerHTML = "Hi, " + userID;
                } else if (userType == "admin") {
                    var newLi = document.createElement("LI");
                    var linkNode = document.createElement("A");
                    linkNode.id = "addOpening";
                    linkNode.innerHTML = "Add TA Opening";
                    linkNode.href = "add-courses.html";
                    newLi.appendChild(linkNode);
                    console.log(newLi)

                    var topNav = document.getElementById("topNav");
                    topNav.insertBefore(newLi, document.getElementById("logout"));
                }
            }
        </script>

</body>

<!-- courses-grid21:17  -->

</html>