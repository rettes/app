<!DOCTYPE html>
<html lang="en">

<!-- courses-grid21:00  -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Add Courses</title>

    <!-- Css Files -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/flaticon.css" rel="stylesheet">
    <link href="css/slick-slider.css" rel="stylesheet">
    <link href="css/prettyphoto.css" rel="stylesheet">
    <link href="build/mediaelementplayer.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="css/color.css" rel="stylesheet">
    <link href="css/color-two.css" rel="stylesheet">
    <link href="css/color-three.css" rel="stylesheet">
    <link href="css/color-four.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        .picture-logo{
         width: 64px;
         height: 80px;
        }
    </style>
</head>

<body onload="loadPage()">

    <!--// Main Wrapper \\-->
    <div class="wm-main-wrapper">

        <!--// Header \\-->
            <header id="wm-header" class="wm-header-one">
                <!--// TopStrip \\-->
                <div class="wm-topstrip">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
    
                                <ul class="wm-adminuser-section">
                                    <li>
                                        <a id="welcome">Hi, John Teo Tjia Ern.</a>
                                    </li>
                                    <li>
    
                                    </li>
                                    <li>
                                        <a href="#" class="wm-search-btn" data-toggle="modal" data-target="#ModalSearch"><i
                                                class="wmicon-search"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--// MainHeader \\-->
                <div class="wm-main-header">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3"><a href="index.html" class="wm-logo"><img src="images/smulogo.png"
                                        width="130px" height="50px alt=""></a></div>
                            <div class=" col-md-9">
                                    <!--// Navigation \\-->
                                    <nav class="navbar navbar-default">
                                        <div class="navbar-header">
                                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                                data-target="#navbar-collapse-1" aria-expanded="true">
                                                <span class="sr-only">Toggle navigation</span>
                                                <span class="icon-bar"></span>
                                                <span class="icon-bar"></span>
                                                <span class="icon-bar"></span>
                                            </button>
                                        </div>
                                        <div class="collapse navbar-collapse" id="navbar-collapse-1">
                                            <ul class="nav navbar-nav" id="topNav">
                                                <li>
                                                    <a href="index.html">Home</a>
                                                </li>
    
                                                <li>
                                                    <a href="courses-grid.html">Course Openings</a>
                                                </li>
    
                                                <li>
                                                    <a href="student-profile.html">Profile</a>
                                                </li>
    
                                                <li id="payment">
                                                    <a href="student-payment.html">Payment</a>
                                                </li>
    
                                                <li class="wm-megamenu-li" id="logout">
                                                    <a href="logout.html">Logout</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </nav>
                            </div>
                        </div>
                    </div>
                </div>
            <!--// MainHeader \\-->

        </header>
        <!--// Header \\-->

        <!--// Mini Header \\-->
        <div class="wm-mini-header">
            <span class="wm-blue-transparent"></span>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="wm-mini-title">
                            <h1>Available Courses to TA for</h1>
                        </div>
                        <div class="wm-breadcrumb">
                            <ul>
                                <li><a href="index-2.html">Home</a></li>
                                <li><a href="index-2.html">Courses</a></li>
                                <li>Grid</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Mini Header \\-->

        <!--// Main Content \\-->
        <div class="wm-main-content mx-auto">
            <h3 style="display:none; text-align:center;" id="message"></h3>
            <!--// Main Section \\-->
            <div class="wm-main-section">
                <div class="container" id="form_block">

                    <aside class="col-md-8 d-none" style="float:none;margin:auto">
                        <div class="widget wm-search-course ">
                            <h3 class="wm-short-title wm-color">Add a new TA Opening</h3>
                            <form id="addCourse">
                                <ul>
                                    <li>
                                        <input type="text" id='modID' placeholder="Mod ID">
                                    </li>
                                    <li>
                                        <input type="text" id='modName' placeholder="Mod Name">
                                    </li>
                                    <li>
                                        <input type="text" id='positions' placeholder="Positions available">
                                    </li>
                                    <li>
                                        <input type="text" id='scope' placeholder="Job scope">
                                    </li>
                                    <li>
                                        <input type="text" id='professorName' placeholder="Professor Name">
                                    </li>
                                    <li>
                                        <input type="text" id='professorID' placeholder="Professor ID">
                                    </li>
                                    <li>
                                        <label class="wm-color" for="schools">Choose a school:</label>
                                        <select name="schools" id="school">
                                            <option value="Centre for English Communication">Centre for English
                                                Communication</option>
                                            <option value="Office of Core Curriculum Courses">Office of Core Curriculum
                                                Courses</option>
                                            <option value="School of Accountancy">School of Accountancy</option>
                                            <option value="School of Business">School of Business</option>
                                            <option value="School of Economics">School of Economics</option>
                                            <option value="School of Information Systems">School of Information Systems
                                            </option>
                                            <option value="School of Computer Science">School of Computer Science
                                            </option>
                                            <option value="School of Law">School of Law</option>
                                            <option value="School of Social Science">School of Social Science</option>
                                        </select>
                                    </li>
                                    <li>
                                        <label class="wm-color" for="level">Choose a level:</label>
                                        <select name="level" id="level">
                                            <option value="Introductory">Introductory</option>
                                            <option value="Intermediate">Intermediate</option>
                                            <option value="Advanced">Advanced</option>
                                        </select>
                                    </li>
                                    <li>
                                        <input type="text" id='description' placeholder="Module description">
                                    </li>
                                    <li>

                                    </li>
                                    <li> <input type="submit" id='submit' value="Add opening"> </li>
                                </ul>
                            </form>
                        </div>

                    </aside>
                </div>
            </div>
            <!--// Main Section \\-->

        </div>
        <!--// Main Content \\-->

        <!--// Footer \\-->

        <footerid="wm-footer" class="wm-footer-one">

            <!--// FooterNewsLatter \\-->
            <div class="wm-footer-newslatter">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                
                                <input type="submit" value="Copyrighted by Singapore Management University">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!--// FooterNewsLatter \\-->

            <!--// FooterWidgets \\-->
            <div class="wm-footer-widget">
                <div class="container">
                    <div class="row">
                        <aside class="widget widget_contact_info col-md-3">
                            <a href="index.html" class="wm-footer-logo"><img src="images/smulogo.png" alt="" width = "197px" height = "62px"></a>
                            <ul>
                                <li><i class="wm-color wmicon-pin"></i> 81 Victoria St, Singapore 188065</li>
                                <li><i class="wm-color wmicon-phone"></i> Tel: +65 6828 0100
                                    
                                    <br> Fax: +65 6828 0101</li>
                                <li><i class="wm-color wmicon-letter"></i> <a
                                        href="mailto:enquiry@smu.edu.sg">enquiry@smu.edu.sg</a> <a></a>
                            </ul>
                            <div class="wm-footer-icons">
                                <a href="https://www.facebook.com/sgsmu" class="wmicon-social5"></a>
                                <a href="https://twitter.com/sgsmu" class="wmicon-social4"></a>
                                <a href="https://www.linkedin.com/company/singapore-management-university/" class="wmicon-social3"></a>
                            </div>
                        </aside>
                        
                    
                        <aside class="widget widget_gallery col-md-3">
                            <div class="wm-footer-widget-title">
                                <h5>Some of our Professors</h5>
                            </div>
                            <ul class="gallery">
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/aplin.jpg"><img class = "picture-logo"
                                            src="images/aplin.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/benjaminjong.jpg"><img class = "picture-logo"
                                            src="images/benjaminjong.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/bthuynh.jpg"><img class = "picture-logo"
                                            src="images/bthuynh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/charlescsy.jpg"><img class = "picture-logo"
                                            src="images/charlescsy.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/cposkitt.jpg"><img class = "picture-logo"
                                            src="images/cposkitt.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/davidlo.jpg"><img class = "picture-logo"
                                            src="images/davidlo.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/lkshar.jpg"><img class = "picture-logo"
                                            src="images/lkshar.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rajesh.jpg"><img class = "picture-logo"
                                            src="images/rajesh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rafaelbarros.jpg"><img class = "picture-logo"
                                            src="images/rafaelbarros.jpg" alt=""></a></li>
                            </ul>
                        </aside>
                    </div>
                </div>
            </div>

        </footer>

            <div class="clearfix"></div>
        </div>
    </div>
    <!-- ModalLogin Box -->

    <!-- ModalSearch Box -->
    <div class="modal fade" id="ModalSearch" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">

                    <div class="wm-modallogin-form">
                        <span class="wm-color">Search Your KeyWord</span>
                        <form>
                            <ul>
                                <li> <input type="text" value="Keywords..."
                                        onblur="if(this.value == '') { this.value ='Keywords...'; }"
                                        onfocus="if(this.value =='Keywords...') { this.value = ''; }"> </li>
                                <li> <input type="submit" value="Search"> </li>
                            </ul>
                        </form>
                    </div>

                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <!-- ModalSearch Box -->
    <div id="paypal-button" style="margin-left: 64%;">

        <!-- jQuery (necessary for JavaScript plugins) -->
        <script type="text/javascript" src="script/jquery.js"></script>
        <script type="text/javascript" src="script/modernizr.js"></script>
        <script type="text/javascript" src="script/bootstrap.min.js"></script>
        <script type="text/javascript" src="script/jquery.prettyphoto.js"></script>
        <script type="text/javascript" src="script/jquery.countdown.min.js"></script>
        <script type="text/javascript" src="script/fitvideo.js"></script>
        <script type="text/javascript" src="script/skills.js"></script>
        <script type="text/javascript" src="script/slick.slider.min.js"></script>
        <script type="text/javascript" src="script/waypoints-min.js"></script>
        <script type="text/javascript" src="build/mediaelement-and-player.min.js"></script>
        <script type="text/javascript" src="script/isotope.min.js"></script>
        <script type="text/javascript" src="script/jquery.nicescroll.min.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
        <script type="text/javascript" src="script/functions.js"></script>
    </div>

    <script>
        document.getElementById("submit").addEventListener("click", function (event) {
            event.preventDefault()
            validateForm()
        });


        if (userEmail == null && localStorage.getItem("email") != null) {
            var userEmail = localStorage.getItem("userEmail");
        }
        if (userID == null && localStorage.getItem("userID") != null) {
            var userID = localStorage.getItem("userID");
        }
        if (userName == null && localStorage.getItem("userName") != null) {
            var userName = localStorage.getItem("userName");
        }
        if (userType == null && localStorage.getItem("userType") != null) {
            var userType = localStorage.getItem("userType");
        }
        if (localStorage.getItem("email") == null ){
            window.location = "http://localhost/app/login/";
            Redirect();
        }
        if (userType != "professor" && userType != "admin") {
            window.location = "http://localhost/app/main/index.html";
            Redirect();
        }

        //-------------------------------------------------------------------------------------------------------------//

        function loadPage() {
            document.getElementById("welcome").innerHTML = "Hi, " + userID;
            if (userType == "professor") {
                document.getElementById("payment").id = "add"

                var item = `
                <a href=# >TA openings</a>
                <ul class="wm-dropdown-menu">
                    <li><a href="add-courses.html" id="addOpening">Add TA Opening</a></li>
                    <li class="active" id="taTenure"><a href="add-tenure.html">Add TA Tenure</a></li>
                    <li class="active" id="taManage"><a href="manage-applications.html">Manage Applications</a></li>
                </ul>`;

                document.getElementById("add").innerHTML = item

                document.getElementById("welcome").innerHTML = "Hi, " + userID;
                document.getElementById("professorName").value = userName;
                document.getElementById("professorID").value = userID;
                document.getElementById("professorName").readOnly = true;
                document.getElementById("professorID").readOnly = true;

                
            
            } else if (userType == "admin") {
                let newLi = document.createElement("LI");
                newLi.id = "add"
                let linkNode = document.createElement("A");
                linkNode.innerHTML = "TA Openings";
                linkNode.href = "#";
                newLi.appendChild(linkNode);
                var topNav = document.getElementById("topNav");
                topNav.insertBefore(newLi, document.getElementById("logout"));

                var item = `<ul class="wm-dropdown-menu">
                    <li><a href="add-courses.html" id="addOpening">Add TA Opening</a></li>
                    <li class="active" id="taApplications"><a href="ta-applications.html">TA Applications</a></li>
                </ul>`;

                document.getElementById("add").innerHTML+= item


            }
        }

        //-------------------------------------------------------------------------------------------------------------//

        function validateForm() {
            var error = false;
            var form = document.getElementById("addCourse");

            var course = {}

            for (let items of form) {
                if (items.id == "positions" && isNaN(items.value)) {
                    error = true
                    document.getElementById("positions").value = "";
                    document.getElementById("positions").placeholder = "Please enter a number for positions";
                } else if (items.value == "") {
                    error = true
                    let exist_text = document.getElementById(items.id).placeholder;
                    document.getElementById(items.id).placeholder = "Please enter the " + exist_text;
                } else {

                    if (items.id != "submit") {
                        course[items.id] = items.value;
                    }
                }
            }

            if (error != true) {

                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {

                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        var item = JSON.parse(xhttp.responseText);
                        document.getElementById("message").innerHTML = item;
                        document.getElementById("message").style.display = "block";

                        if (item == "Module exists") {
                            document.getElementById("message").style.color = "red";

                        } else if (item == "Module added") {
                            document.getElementById("message").style.color = "green";
                            document.getElementById("addCourse").reset();
                            document.getElementById("professorName").value = userName;
                            document.getElementById("professorID").value = userID;
                            document.getElementById("professorName").readOnly = true;
                            document.getElementById("professorID").readOnly = true;
                        }

                    }
                }

                let parameter = Object.entries(course).map(([key, val]) => `${key}=${val}`).join('&');
                url = "http://localhost:5012/add_course/" + parameter
                xhttp.open("GET", url, true);
                xhttp.send();
            }



        }
    </script>

</body>

<!-- courses-grid21:17  -->

</html>