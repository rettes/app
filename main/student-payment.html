<!DOCTYPE html>
<html lang="en">

<!-- student-dashboard-my-courses21:54  -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Payment</title>

    <!-- Css Files -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/flaticon.css" rel="stylesheet">
    <link href="css/slick-slider.css" rel="stylesheet">
    <link href="css/prettyphoto.css" rel="stylesheet">
    <link href="build/mediaelementplayer.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="css/color.css" rel="stylesheet">
    <link href="css/color-two.css" rel="stylesheet">
    <link href="css/color-three.css" rel="stylesheet">
    <link href="css/color-four.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <style>
		.picture-logo{
			width: 64px;
			height: 80px;
		}
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body onload="loadPage()">

    <!--// Main Wrapper \\-->
    <div class="wm-main-wrapper">

        <!--// Header \\-->
        <header id="wm-header" class="wm-header-one">

            <!--// TopStrip \\-->
            <div class="wm-topstrip">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">

                            <ul class="wm-adminuser-section">
                                <li>
                                    <a id="welcome">Hi, John Teo Tjia Ern.</a>
                                </li>
                                <li>
                                    <a href="#" class="wm-search-btn" data-toggle="modal" data-target="#ModalSearch"><i
                                            class="wmicon-search"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!--// TopStrip \\-->

            <!--// MainHeader \\-->
            <div class="wm-main-header">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3"><a href="index-2.html" class="wm-logo"><img src="images/smulogo.png" width="130px" height="50px alt=""></a></div>
                        <div class="col-md-9">
                            <!--// Navigation \\-->
                            <nav class="navbar navbar-default">
                                <div class="navbar-header">
                                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="true">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                                </div>
                                <div class="collapse navbar-collapse" id="navbar-collapse-1">
                                    <ul class="nav navbar-nav">
                                    <li>
                                        <a href="index.html">Home</a>
                                    </li>

                                    <li>
                                        <a href="courses-grid.html">Course Openings</a>
                                    </li>

                                    <li>
                                        <a href="student-profile.html">Profile</a>
                                    </li>

                                    <li >
                                        <a href="student-payment.html">Payment</a>
                                    </li>

                                    <li class="wm-megamenu-li">
                                        <a href="../login/login.html">Logout</a>
                                    </li>

                                    <li>
                                        <a href="#" class="wm-search-btn" data-toggle="modal" data-target="#ModalSearch"><i class="wmicon-search"></i></a>
                                    </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <!--// MainHeader \\-->

        </header>
        <!--// Header \\-->

        <!--// Mini Header \\-->
        <div class="wm-mini-header">
            <span class="wm-blue-transparent"></span>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="wm-mini-title">
                            <h1 id="dashboard1">Student Dashboard</h1>
                        </div>
                        <div class="wm-breadcrumb">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="#" id="dashboard2">Student Dashboard</a></li>
                                <li>Payments</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Mini Header \\-->

        <!--// Main Content \\-->
        <div class="wm-main-content">

            <!--// Main Section \\-->
            <div class="wm-main-section">
                <div class="container">
                    <div class="row">
                        <aside class="col-md-4">
                            <div class="wm-student-dashboard-nav">
                                <div class="wm-student-nav">
                                    <figure>
                                        <a href="#"><img src="extra-images/students-setting-1.jpg" alt=""></a>
                                    </figure>
                                    <div class="wm-student-nav-text">
                                        <h6>Kevin Nickols</h6>
                                        <a href="#">update image</a>
                                    </div>
                                    <ul>
                                        <li>
                                            <a href="#">
                                                <i class="wmicon-avatar"></i>
                                                Profile Details
                                            </a>
                                        </li>
                                        <li class="active">
                                            <a href="#">
                                                <i class="wmicon-book"></i>
                                                Payments
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="wmicon-favorite"></i>
                                                Favorites
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="wmicon-paper"></i>
                                                Statement
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="wmicon-three"></i>
                                                Settings
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="wmicon-arrow"></i>
                                                Logout
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </aside>
                        <div class="col-md-8">
                            <div class="wm-student-dashboard-courses wm-dashboard-courses" id="paymentList">
                                <div class="wm-plane-title">
                                    <h2>Payments</h2>
                                </div>
                                <div class="wm-article">
                                    <ul>
                                        <li class="wm-courses-start wm-student">
                                            <span>Course ID <br><br></span>
                                        </li>
                                        <li class="wm-student">
                                            <span>Status</span>
                                        </li>
                                        <li class="wm-student">
                                            <span>Payment ID</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--// Main Section \\-->

            <!--// Main Section \\-->
        </div>
        <!--// Main Content \\-->

        <!--Footer-->
        <footer id="wm-footer" class="wm-footer-one">

            <!--// FooterNewsLatter \\-->
            <div class="wm-footer-newslatter">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                
                                <input type="submit" value="Copyrighted by Singapore Management University">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!--// FooterNewsLatter \\-->

            <!--// FooterWidgets \\-->
            <div class="wm-footer-widget">
                <div class="container">
                    <div class="row">
                        <aside class="widget widget_contact_info col-md-3">
                            <a href="index.html" class="wm-footer-logo"><img src="images/smulogo.png" alt="" width = "197px" height = "62px"></a>
                            <ul>
                                <li><i class="wm-color wmicon-pin"></i> 81 Victoria St, Singapore 188065</li>
                                <li><i class="wm-color wmicon-phone"></i> Tel: +65 6828 0100
                                    
                                    <br> Fax: +65 6828 0101</li>
                                <li><i class="wm-color wmicon-letter"></i> <a
                                        href="mailto:enquiry@smu.edu.sg">enquiry@smu.edu.sg</a> <a></a>
                            </ul>
                            <div class="wm-footer-icons">
                                <a href="https://www.facebook.com/sgsmu" class="wmicon-social5"></a>
                                <a href="https://twitter.com/sgsmu" class="wmicon-social4"></a>
                                <a href="https://www.linkedin.com/company/singapore-management-university/" class="wmicon-social3"></a>
                            </div>
                        </aside>
                        
                    
                        <aside class="widget widget_gallery col-md-3">
                            <div class="wm-footer-widget-title">
                                <h5>Some of our Professors</h5>
                            </div>
                            <ul class="gallery">
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/aplin.jpg"><img class = "picture-logo"
                                            src="images/aplin.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/benjaminjong.jpg"><img class = "picture-logo"
                                            src="images/benjaminjong.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/bthuynh.jpg"><img class = "picture-logo"
                                            src="images/bthuynh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/charlescsy.jpg"><img class = "picture-logo"
                                            src="images/charlescsy.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/cposkitt.jpg"><img class = "picture-logo"
                                            src="images/cposkitt.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/davidlo.jpg"><img class = "picture-logo"
                                            src="images/davidlo.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/lkshar.jpg"><img class = "picture-logo"
                                            src="images/lkshar.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rajesh.jpg"><img class = "picture-logo"
                                            src="images/rajesh.jpg" alt=""></a></li>
                                <li><a title="" data-rel="prettyPhoto[gallery1]"
                                        href="images/rafaelbarros.jpg"><img class = "picture-logo"
                                            src="images/rafaelbarros.jpg" alt=""></a></li>
                            </ul>
                        </aside>
                    </div>
                </div>
            </div>

        </footer>
        <div class="clearfix"></div>
    <!-- ModalSearch Box -->
    <script>
        if (userEmail == null && localStorage.getItem("email") != null) {
            var userEmail = localStorage.getItem("userEmail");
        }
        if (userID == null && localStorage.getItem("userID") != null) {
            var userID = localStorage.getItem("userID");
        }
        if (userName == null && localStorage.getItem("userName") != null) {
            var userName = localStorage.getItem("userName");
        }
        if (userType == null && localStorage.getItem("userType") != null) {
            var userType = localStorage.getItem("userType");
        }
        // if (localStorage.getItem("email") == null ){
        //     window.location = "http://localhost/app/login/";
        //     Redirect();
        // }

        //-------------------------------------------------------------------------------------------------------------//

        function loadPage() {
            document.getElementById("welcome").innerHTML = "Hi, " + userID;
            if (userType == "professor") {
                document.getElementById("payment").id = "addOpening"
                document.getElementById("addOpening").innerHTML = "Add TA Opening"
                document.getElementById("addOpening").href = "add-courses.html"
                document.getElementById("welcome").innerHTML = "Hi, " + userID;
            } else if (userType == "admin") {
                let newLi = document.createElement("LI");
                let linkNode = document.createElement("A");
                linkNode.id = "addOpening";
                linkNode.innerHTML = "Add TA Opening";
                linkNode.href = "add-courses.html";
                newLi.appendChild(linkNode);
                // console.log(newLi)
                var topNav = document.getElementById("topNav");
                topNav.insertBefore(newLi, document.getElementById("logout"));

                newLi = document.createElement("LI");
                linkNode = document.createElement("A");
                linkNode.id = "taApplications";
                linkNode.innerHTML = "TA Applications";
                linkNode.href = "ta-applications.html";
                newLi.appendChild(linkNode);
                topNav.insertBefore(newLi, document.getElementById("logout"));
            }
        }

        if (userType == "admin") {
            document.getElementById("dashboard1").innerHTML = "Admin Dashboard";
            document.getElementById("dashboard2").innerHTML = "Admin Dashboard";
            loadPayments();
        } else if (userType == "student") {
            loadPaymentsById(userID);
        }

        function loadPayments() {

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {

                if (xhttp.readyState == 4 && xhttp.status == 200) {
                    var item = JSON.parse(xhttp.responseText);

                    var toAdd = "";
                    for (let payment in item["payments"]) {
                        // console.log(payment)
                        let mod_id = item["payments"][payment]["mod_id"];
                        let payment_amt = item["payments"][payment]["payment_amt"];
                        let payment_date = item["payments"][payment]["payment_date"].slice(0, -13);
                        let payment_label = item["payments"][payment]["payment_details"];
                        let payment_details = payment_label.charAt(0).toUpperCase() + payment_label.slice(1)
                        let payment_id = item["payments"][payment]["payment_id"];
                        let student_id = item["payments"][payment]["student_id"];

                        if (payment_label == "in progress") {
                            payment_label = "in-Progress"
                        }


                        toAdd += `<div class="wm-article">
									<ul>
										<li class="wm-courses-start">
											<div class="wm-statement-started-text">
												<h6><a href="#">${mod_id}</a></h6>
												<span><a href="#" class="wmicon-tag"></a>$${payment_amt}</span>
                                                <span><a href="#" class="wmicon-time2"></a>${payment_date}</time></span>
                                                <span><a href="#" class="wmicon-people"></a>Student ID: ${student_id}</span>
											</div>
										</li>										
										<li>
											<a class="wm-status-courses wm-${payment_label}" href="#">${payment_details}</a>
										</li>
                                        <li>
											<small>${payment_id}</small>
                                        </li>

									</ul>									
								</div>`
                    }

                    document.getElementById("paymentList").innerHTML += toAdd;

                }
            }

            url = "http://localhost:5013/get_all"
            xhttp.open("GET", url, true);
            xhttp.send();
        }

        function loadPaymentsById(userID) {

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {

                if (xhttp.readyState == 4 && xhttp.status == 200) {
                    var item = JSON.parse(xhttp.responseText);
                    var toAdd = "";
                    for (let payment in item["payments"]) {
                        // console.log(payment)
                        let mod_id = item["payments"][payment]["mod_id"];
                        let payment_amt = item["payments"][payment]["payment_amt"];
                        let payment_date = item["payments"][payment]["payment_date"].slice(0, -13);
                        let payment_label = item["payments"][payment]["payment_details"];
                        let payment_details = payment_label.charAt(0).toUpperCase() + payment_label.slice(1)
                        let payment_id = item["payments"][payment]["payment_id"];

                        if (payment_label == "in progress") {
                            payment_label = "in-Progress"
                        }


                        toAdd += `<div class="wm-article">
									<ul>
										<li class="wm-courses-start">
											<div class="wm-statement-started-text">
												<h6><a href="#">${mod_id}</a></h6>
												<span><a href="#" class="wmicon-tag"></a>$${payment_amt}</span>
                                                <span><a href="#" class="wmicon-time2"></a>${payment_date}</time></span>
											</div>
										</li>										
										<li>
											<a class="wm-status-courses wm-${payment_label}" href="#">${payment_details}</a>
										</li>
                                        <li>

											<h6>${payment_id}</h6>
                                        </li>

									</ul>									
								</div>`
                    }

                    document.getElementById("paymentList").innerHTML += toAdd;
                }

            }

            url = "http://localhost:5013/get_payment_by_id/" + userID
            xhttp.open("GET", url, true);
            xhttp.send();
        }
    </script>
    <!-- jQuery (necessary for JavaScript plugins) -->
    <script type="text/javascript" src="script/jquery.js"></script>
    <script type="text/javascript" src="script/modernizr.js"></script>
    <script type="text/javascript" src="script/bootstrap.min.js"></script>
    <script type="text/javascript" src="script/jquery.prettyphoto.js"></script>
    <script type="text/javascript" src="script/jquery.countdown.min.js"></script>
    <script type="text/javascript" src="script/fitvideo.js"></script>
    <script type="text/javascript" src="script/skills.js"></script>
    <script type="text/javascript" src="script/slick.slider.min.js"></script>
    <script type="text/javascript" src="script/waypoints-min.js"></script>
    <script type="text/javascript" src="build/mediaelement-and-player.min.js"></script>
    <script type="text/javascript" src="script/isotope.min.js"></script>
    <script type="text/javascript" src="script/jquery.nicescroll.min.js"></script>
    <!-- <script type="text/javascript" src="script/functions.js"></script> -->

</body>

<!-- student-dashboard-my-courses21:55  -->

</html>