<!DOCTYPE html>
<html lang="en">
  
<!-- student-dashboard-my-courses21:54  -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Manage Pending Applications</title>

    <!-- Css Files -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/flaticon.css" rel="stylesheet">
    <link href="css/slick-slider.css" rel="stylesheet">
    <link href="css/prettyphoto.css" rel="stylesheet">
    <link href="build/mediaelementplayer.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link href="css/color.css" rel="stylesheet">
    <link href="css/color-two.css" rel="stylesheet">
    <link href="css/color-three.css" rel="stylesheet">
    <link href="css/color-four.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">

    <style>
        .picture-logo{
         width: 64px;
         height: 80px;
        }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body onload="loadPage()">

    <!--// Main Wrapper \\-->
    <div class="wm-main-wrapper">

        <!--// Header \\-->
            <header id="wm-header" class="wm-header-one">
                <!--// TopStrip \\-->
                <div class="wm-topstrip">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
    
                                <ul class="wm-adminuser-section">
                                    <li>
                                        <a id="welcome">Hi, John Teo Tjia Ern.</a>
                                    </li>
                                    <li>
    
                                    </li>
                                    <li>
                                        <a href="#" class="wm-search-btn" data-toggle="modal" data-target="#ModalSearch"><i
                                                class="wmicon-search"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--// MainHeader \\-->
                <div class="wm-main-header">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3"><a href="index.html" class="wm-logo"><img src="images/smulogo.png"
                                        width="130px" height="50px alt=""></a></div>
                            <div class=" col-md-9">
                                    <!--// Navigation \\-->
                                    <nav class="navbar navbar-default">
                                        <div class="navbar-header">
                                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                                data-target="#navbar-collapse-1" aria-expanded="true">
                                                <span class="sr-only">Toggle navigation</span>
                                                <span class="icon-bar"></span>
                                                <span class="icon-bar"></span>
                                                <span class="icon-bar"></span>
                                            </button>
                                        </div>
                                        <div class="collapse navbar-collapse" id="navbar-collapse-1">
                                            <ul class="nav navbar-nav" id="topNav">
                                                <li>
                                                    <a href="index.html">Home</a>
                                                </li>
    
                                                <li>
                                                    <a href="courses-grid.html">Course Openings</a>
                                                </li>
    
                                                <li>
                                                    <a href="student-profile.html">Profile</a>
                                                </li>
    
                                                <li id="payment">
                                                    <a href="student-payment.html">Payment</a>
                                                </li>
    
                                                <li class="wm-megamenu-li" id="logout">
                                                    <a href="logout.html">Logout</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </nav>
                            </div>
                        </div>
                    </div>
                </div>
            <!--// MainHeader \\-->

		</header>
		<!--// Header \\-->

		<!--// Mini Header \\-->
		<div class="wm-mini-header">
			<span class="wm-blue-transparent"></span>
			 <div class="container">
			    <div class="row">
				    <div class="col-md-12">
				        <div class="wm-mini-title">
				       		<h1 id="dashboard1">Student Dashboard</h1> 
				        </div>
				        <div class="wm-breadcrumb">
				          	<ul>
				          	 	<li><a href="index.html">Home</a></li>
				          	 	<li><a href="#" id="dashboard2">Student Dashboard</a></li>
				           		<li>Manage Pending Applications</li>
				          	</ul>
				        </div>      
				    </div>
			    </div>
			</div>    
		</div>
  		<!--// Mini Header \\-->

		<!--// Main Content \\-->
		<div class="wm-main-content">

			<!--// Main Section \\-->
			<div class="wm-main-section">
				<div class="container">
					<div class="row">
						<aside class="col-md-4" style="display: none">
							<div class="wm-student-dashboard-nav">
								<div class="wm-student-nav">
									<figure>
										<a href="#"><img src="extra-images/students-setting-1.jpg" alt=""></a>
									</figure>
									<div class="wm-student-nav-text">
										<h6>Kevin Nickols</h6>
										<a href="#">update image</a>
									</div>
									<ul>
										<li>
											<a href="#">
												<i class="wmicon-avatar"></i>
												Profile Details
											</a>
										</li>
										<li class="active">
											<a href="#">
												<i class="wmicon-book"></i>
												Payments
											</a>
										</li>
										<li>
											<a href="#">
												<i class="wmicon-favorite"></i>
												Favorites
											</a>
										</li>
										<li>
											<a href="#">
												<i class="wmicon-paper"></i>
												Statement
											</a>
										</li>
										<li>
											<a href="#">
												<i class="wmicon-three"></i>
												Settings
											</a>
										</li>
										<li>
											<a href="#">
												<i class="wmicon-arrow"></i>
												Logout
											</a>
										</li>
									</ul>
								</div>
							</div>						
                        </aside>
                        <div class='container'>
                            <div class="col-md-12">
                                <div class="wm-student-dashboard-courses wm-dashboard-courses" id="applicationList">
                                    <div class="wm-plane-title" style='margin-bottom: 0'>
                                        <h2 style='margin-bottom: 0'>Pending TA Applications</h2>
                                        
                                    </div>
                                    <div class='btn-group' role='group' style='margin-left: 0%'>
                                        <table >
                                            <tr>
                                                <td><button type='button' class="btn btn-success submitAcceptance" id='acceptApplicants' style='display:none' onclick='acceptApplicants()'><span>Accept</span></button></td>
                                                <td><button type='button' class="btn btn-danger submitAcceptance"  id='rejectApplicants' style='display:none' onclick='rejectApplicants()'><span>Reject</span></button></td>
                                            </tr>
                                        </table>
                                            
                                    
                                    </div>
                                    <!-- <div class="wm-table wm-typography-element">
                                        <ul class="wm-table-head wm-table-content">
                                            <li class='col-md-3'>Application No.</li>
                                            <li class='col-md-3'>Module ID</li>
                                            <li class='col-md-3'>Student ID</li>
                                            <li class='col-md-3'>Student Name</li>
                                        </ul>
                                        <div id='output_table' class="wm-table-content">
                                            <ul>
                                                <li>Application No.</li>
                                                <li>Module ID</li>
                                                <li>Student ID</li>
                                                <li>Student Name</li>
                                            </ul>
                                            <ul>
                                                <li>Application No.</li>
                                                <li>Module ID</li>
                                                <li>Student ID</li>
                                                <li>Student Name</li>
                                            </ul>
                                            <ul>
                                                <li>Application No.</li>
                                                <li>Module ID</li>
                                                <li>Student ID</li>
                                                <li>Student Name</li>
                                            </ul>
                                            <ul>
                                                <li>Application No.</li>
                                                <li>Module ID</li>
                                                <li>Student ID</li>
                                                <li>Student Name</li>
                                            </ul>
                                        </div>						
                                    </div> -->
                                    <br>
                                    <div class="panel panel-default">
                                        <!-- Default panel contents -->
                                        <!-- <div class="panel-heading">
                                        </div> -->
                                        <!-- <div class="panel-body"></div> -->
                                    
                                    <!-- Table -->
                                        <table id='renderPendingApps' class="table">
                                            <tr style='background-color: #eaeaea; color:#222845;'>
                                                <th width="10%">SELECT</th>
                                                <th width="15%">MODULE ID</th>
                                                <th width="30%">STUDENT ID</th>
                                            </tr>
                                        </table>
                                    </div>
                                </div>										
                            </div>
                        </div>
					</div>
				</div>
			</div>
			<!--// Main Section \\-->

            <!--// Main Section \\-->
		</div>
		<!--// Main Content \\-->

		<!--// Footer \\-->
    <footer id="wm-footer" class="wm-footer-one">
        <!--// FooterNewsLatter \\-->
        <div class="wm-footer-newslatter">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <form>
                            
                            <input type="submit" value="Copyrighted by Singapore Management University">
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--// FooterNewsLatter \\-->

        <!--// FooterWidgets \\-->
        <div class="wm-footer-widget">
            <div class="container">
                <div class="row">
                    <aside class="widget widget_contact_info col-md-3">
                        <a href="index.html" class="wm-footer-logo"><img src="images/smulogo.png" alt="" width = "197px" height = "62px"></a>
                        <ul>
                            <li><i class="wm-color wmicon-pin"></i> 81 Victoria St, Singapore 188065</li>
                            <li><i class="wm-color wmicon-phone"></i> Tel: +65 6828 0100
                                
                                <br> Fax: +65 6828 0101</li>
                            <li><i class="wm-color wmicon-letter"></i> <a
                                    href="mailto:enquiry@smu.edu.sg">enquiry@smu.edu.sg</a> <a></a>
                        </ul>
                        <div class="wm-footer-icons">
                            <a href="https://www.facebook.com/sgsmu" class="wmicon-social5"></a>
                            <a href="https://twitter.com/sgsmu" class="wmicon-social4"></a>
                            <a href="https://www.linkedin.com/company/singapore-management-university/" class="wmicon-social3"></a>
                        </div>
                    </aside>
                    
                
                    <aside class="widget widget_gallery col-md-3">
                        <div class="wm-footer-widget-title">
                            <h5>Some of our Professors</h5>
                        </div>
                        <ul class="gallery">
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/aplin.jpg"><img class = "picture-logo"
                                        src="images/aplin.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/benjaminjong.jpg"><img class = "picture-logo"
                                        src="images/benjaminjong.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/bthuynh.jpg"><img class = "picture-logo"
                                        src="images/bthuynh.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/charlescsy.jpg"><img class = "picture-logo"
                                        src="images/charlescsy.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/cposkitt.jpg"><img class = "picture-logo"
                                        src="images/cposkitt.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/davidlo.jpg"><img class = "picture-logo"
                                        src="images/davidlo.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/lkshar.jpg"><img class = "picture-logo"
                                        src="images/lkshar.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/rajesh.jpg"><img class = "picture-logo"
                                        src="images/rajesh.jpg" alt=""></a></li>
                            <li><a title="" data-rel="prettyPhoto[gallery1]"
                                    href="images/rafaelbarros.jpg"><img class = "picture-logo"
                                        src="images/rafaelbarros.jpg" alt=""></a></li>
                        </ul>
                    </aside>
                </div>
            </div>
        </div>
    </footer>
    <!--// Footer \\-->

	<div class="clearfix"></div>
    </div>
    <!--// Main Wrapper \\-->

    <!-- ModalLogin Box -->
    <div class="modal fade" id="ModalLogin" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body">
            
            <div class="wm-modallogin-form wm-login-popup">
                <span class="wm-color">Login to Your Account</span>
                <form>
                    <ul>
                        <li> <input type="text" value="Your Username" onblur="if(this.value == '') { this.value ='Your Username'; }" onfocus="if(this.value =='Your Username') { this.value = ''; }"> </li>
                        <li> <input type="password" value="password" onblur="if(this.value == '') { this.value ='password'; }" onfocus="if(this.value =='password') { this.value = ''; }"> </li>
                        <li> <a href="#" class="wm-forgot-btn">Forgot Password?</a> </li>
                        <li> <input type="submit" value="Sign In"> </li>
                    </ul>
                </form>
                <span class="wm-color">or try our socials</span>
                <ul class="wm-login-social-media">
                    <li><a href="#"><i class="wmicon-social5"></i> Facebook</a></li>
                    <li class="wm-twitter-color"><a href="#"><i class="wmicon-social4"></i> twitter</a></li>                </ul>
                <p>Not a member yet? <a href="#">Sign-up Now!</a></p>
            </div>
            <div class="wm-modallogin-form wm-register-popup">
                <span class="wm-color">create Your Account today</span>
                <form>
                    <ul>
                        <li> <input type="text" value="Your Username" onblur="if(this.value == '') { this.value ='Your Username'; }" onfocus="if(this.value =='Your Username') { this.value = ''; }"> </li>
                        <li> <input type="text" value="Your E-mail" onblur="if(this.value == '') { this.value ='Your E-mail'; }" onfocus="if(this.value =='Your E-mail') { this.value = ''; }"> </li>
                        <li> <input type="password" value="password" onblur="if(this.value == '') { this.value ='password'; }" onfocus="if(this.value =='password') { this.value = ''; }"> </li>
                        <li> <input type="text" value="Confirm Password" onblur="if(this.value == '') { this.value ='Confirm Password'; }" onfocus="if(this.value =='Confirm Password') { this.value = ''; }"> </li>
                        <li> <input type="submit" value="Create Account"> </li>
                    </ul>
                </form>
                <span class="wm-color">or signup with your socials:</span>
                <ul class="wm-login-social-media">
                    <li><a href="#"><i class="wmicon-social5"></i> Facebook</a></li>
                    <li class="wm-twitter-color"><a href="#"><i class="wmicon-social4"></i> twitter</a></li>
                </ul>
                <p>Already a member? <a href="#">Sign-in Here!</a></p>
            </div>

          </div>
        </div>
      <div class="clearfix"></div>
      </div>
    </div>
    <!-- ModalLogin Box -->

    <!-- ModalSearch Box -->
    <div class="modal fade" id="ModalSearch" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body">
            
            <div class="wm-modallogin-form">
                <span class="wm-color">Search Your KeyWord</span>
                <form>
                    <ul>
                        <li> <input type="text" value="Keywords..." onblur="if(this.value == '') { this.value ='Keywords...'; }" onfocus="if(this.value =='Keywords...') { this.value = ''; }"> </li>
                        <li> <input type="submit" value="Search"> </li>
                    </ul>
                </form>
            </div>

          </div>
        </div>
      <div class="clearfix"></div>
      </div>
    </div>
    <!-- ModalSearch Box -->
    <script>

        if (userEmail == null && localStorage.getItem("email") != null ) {
            var userEmail = localStorage.getItem("userEmail");
        }
        if (userID == null && localStorage.getItem("userID") != null) {
            var userID = localStorage.getItem("userID");
        }
        if (userName == null && localStorage.getItem("userName") != null) {
            var userName = localStorage.getItem("userName");
        }
        if (userType == null && localStorage.getItem("userType") != null) {
            var userType = localStorage.getItem("userType");
        }
        if (localStorage.getItem("email") == null ){
            window.location = "http://../login/index.html";
            Redirect();
        }

        var localhost_5011 = 'http://1bbf7b67e441.ngrok.io';
        

        //-------------------------------------------------------------------------------------------------------------//
        
        function loadPage() {
            document.getElementById("welcome").innerHTML = "Hi, " + userID;
            if (userType == "professor" || userType == "admin") {
                console.log("This is a professor or admin");
                getPendingApplications();
            }
            if (userType == "professor") {
                    document.getElementById("payment").id = "add"

                    var item = `
                <a href=# >TA openings</a>
                <ul class="wm-dropdown-menu">
                    <li><a href="add-courses.html" id="addOpening">Add TA Opening</a></li>
                    <li class="active" id="taTenure"><a href="add-tenure.html">Add TA Tenure</a></li>
                    <li class="active" id="taManage"><a href="manage-applications.html">Manage Applications</a></li>
                </ul>`;

                    document.getElementById("add").innerHTML = item
                } else if (userType == "admin") {
                    let newLi = document.createElement("LI");
                    newLi.id = "add"
                    let linkNode = document.createElement("A");
                    linkNode.innerHTML = "TA Openings";
                    linkNode.href = "#";
                    newLi.appendChild(linkNode);
                    var topNav = document.getElementById("topNav");
                    topNav.insertBefore(newLi, document.getElementById("logout"));

                    var item = `<ul class="wm-dropdown-menu">
                    <li><a href="add-courses.html" id="addOpening">Add TA Opening</a></li>
                    <li class="active" id="taApplications"><a href="ta-applications.html">TA Applications</a></li>
                </ul>`;

                    document.getElementById("add").innerHTML += item
                }
            // redirect to home page if its student
            else if (userType == "student") {
                window.location.href = "http://../main/index.html";
                Redirect();

            }
        }
// 
        // function to retrieve all pending applications for the current prof
        function getPendingApplications() {
            var prof_id = userID;
            console.log('prof_id: ' + prof_id)
            // Step 1
            var request = new XMLHttpRequest();

            // Step 2
            // Register function
            request.onreadystatechange = function() {
                // Step 5
                if( this.readyState == 4 && this.status == 200 ) {
                    // Response is ready
                    console.log('successfully retrieved applications from DB');
                    var json_obj = JSON.parse(request.responseText);
                    console.log(json_obj);
                    renderPage(json_obj);
                }
                // else if( request.readyState == 4 && request.status == 404 ) {
                //     console.log('Fail to retrieve request')
                }

            // Step 3
            var url = `${localhost_5011}/get_pending_applications`; 

            request.open("GET", url, true); 
            request.send();

            // request.open("PUT", url, true); 
            // request.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); 
            // request.send("email=" + email +"&password="+password); // query parameters

        }

        function renderPage(json_obj) {
            var applications = json_obj.applications;
            var prof_id = userID;
            var htmlStr = ``;
            for (application of applications) {
                let app_no = application.application_no;
                let mod_id = application.mod_id;
                let student_id = application.student_id;
                if (prof_id == application.professor_id) {
                    htmlStr += `
                    <tr>
                        <td>
                            <div class="wm-form-wrap wm-typography-element" style='height:20px; width:20px; margin: 0px 5px 5px 30%; padding: 0px; border: 0px'>
                            <ul class="wm-form-listing" style="list-style-type:none; margin:0px 0px 0px 20px; padding:0px;">
                            <li style='margin:0px'>
                                <div class="wm-select-checkbox" style='margin: 0px'>
                                    <input type="checkbox" name="${student_id}" value="${app_no}" id="${student_id}Checkbox" class="pendingCheckbox" onclick='checkboxClicked()'>
                                    <label for="${student_id}Checkbox"><span style='margin: 0px;'></span></label>
                                </div>
                            </li>
                            </ul>
                            </div>
                        </td>
                        
                        <td>${mod_id}</td>
                        <td>
                            <a href="./student-profile.html?student_id=${student_id}">
                            ${student_id}
                        </td>
                        
                    </tr>

                `;
                }
                // let student_name = application.student_name;
                
            }
            // console.log(htmlStr)
            document.getElementById("renderPendingApps").innerHTML += htmlStr;
        }

        // code to hide accept/reject button if checbox is checked
        function checkboxClicked() {
            console.log('jquery test')
            $('.pendingCheckbox:checkbox').change(function(){ // detects change in checkbox checking
                console.log($('.pendingCheckbox:checked').length); 
                if($('.pendingCheckbox:checked').length != 0){
                    // console.log("Checkbox is checked.");
                    $('.submitAcceptance').css("display", "inline-block");
                }
                else if($('.pendingCheckbox:checked').length === 0){
                    $('.submitAcceptance').css("display", "none");
                    // console.log("Checkbox is unchecked.");
                }
            });
        }

        function acceptApplicants() {
            checked = [];
            $('.pendingCheckbox:checked').each(function() {
                checked.push(this.value);
            });
            console.log("selected applicants: " + checked);

            for (sid of checked){
                console.log(sid);
                sendAccept(sid);
            }
        }

        function sendAccept(sid) {
            // Step 1
            var request = new XMLHttpRequest();

            // Step 2
            // Register function
            request.onreadystatechange = function() {
                // Step 5
                if( this.readyState == 4 && this.status == 200 ) {
                    // Response is ready
                    console.log('successfully sent application');
                    var json_obj = JSON.parse(request.responseText);
                    console.log(json_obj);
                }
                // else if( request.readyState == 4 && request.status == 404 ) {
                //     console.log('Fail to retrieve request')
                }

            // Step 3
            var url = `${localhost_5011}/acceptApplication/` + 'app_id=' +  sid + '&status=' + '1'; 

            request.open("GET", url, true); 
            request.send();

            // request.open("GET", url, true); 
            // request.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); 
            // request.send("email=" + email +"&password="+password); // query parameters
            
            location.reload();
        }

        function rejectApplicants() {
            checked = [];
            $('.pendingCheckbox:checked').each(function() {
                checked.push(this.value);
            });
            console.log("selected applicants: " + checked);
            for (sid of checked){
                sendReject(sid);
        }

        function sendReject(sid) {
            // Step 1
            var request = new XMLHttpRequest();

            // Step 2
            // Register function
            request.onreadystatechange = function() {
                // Step 5
                if( this.readyState == 4 && this.status == 200 ) {
                    // Response is ready
                    console.log('successfully sent application');
                    var json_obj = JSON.parse(request.responseText);
                    console.log(json_obj);
                    getApplication(app_no);
                }
                // else if( request.readyState == 4 && request.status == 404 ) {
                //     console.log('Fail to retrieve request')
                }

            // Step 3
            var url = `${localhost_5011}/acceptApplication/` + 'app_id=' +  sid + '&status=' + '0'; 

            request.open("GET", url, true); 
            request.send();

            // request.open("GET", url, true); 
            // request.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); 
            // request.send("email=" + email +"&password="+password); // query parameters
            location.reload();
            
        }

        function getApplication(app_no) {
            // Step 1
            var request = new XMLHttpRequest();

            // Step 2
            // Register function
            request.onreadystatechange = function() {
                // Step 5
                if( this.readyState == 4 && this.status == 200 ) {
                    // Response is ready
                    console.log('successfully retrieved applications from DB');
                    var json_obj = JSON.parse(request.responseText);
                    console.log(json_obj);
                    sendApplication(json_obj);
                }
                // else if( request.readyState == 4 && request.status == 404 ) {
                //     console.log('Fail to retrieve request')
                }

            // Step 3
            var url = `${localhost_5011}/getAppById/` + app_no; 

            request.open("GET", url, true); 
            request.send();
        }

        function sendApplication(json_obj){
            var sid = json_obj.applications.student_id;
            var status = json_obj.applications.status;
            var mod_id = json_obj.applications.mod_id;
            // Step 1
            var request = new XMLHttpRequest();

            // Step 2
            // Register function
            request.onreadystatechange = function() {
                // Step 5
                if( this.readyState == 4 && this.status == 200 ) {
                    // Response is ready
                    console.log('successfully retrieved applications from DB');
                    var json_obj = JSON.parse(request.responseText);
                    if (json_obj == null) {
                        console.log('success');
                    }
                }
                // else if( request.readyState == 4 && request.status == 404 ) {
                //     console.log('Fail to retrieve request')
                }

            // Step 3
            var url = `http://localhost:5100/notification/` + "sid=" + sid + "&status=" + status + "&mod_id" + mod_id; 

            request.open("GET", url, true); 
            request.send();

        }

    }

    

        
         
    


    </script>
	<!-- jQuery (necessary for JavaScript plugins) -->
	<script type="text/javascript" src="script/jquery.js"></script>
	<script type="text/javascript" src="script/modernizr.js"></script>
    <script type="text/javascript" src="script/bootstrap.min.js"></script>
    <script type="text/javascript" src="script/jquery.prettyphoto.js"></script>
    <script type="text/javascript" src="script/jquery.countdown.min.js"></script>
    <script type="text/javascript" src="script/fitvideo.js"></script>
    <script type="text/javascript" src="script/skills.js"></script>
    <script type="text/javascript" src="script/slick.slider.min.js"></script>
    <script type="text/javascript" src="script/waypoints-min.js"></script>
    <script type="text/javascript" src="build/mediaelement-and-player.min.js"></script>
    <script type="text/javascript" src="script/isotope.min.js"></script>
    <script type="text/javascript" src="script/jquery.nicescroll.min.js"></script>
    <!-- <script type="text/javascript" src="script/functions.js"></script> -->
    
  </body>

<!-- student-dashboard-my-courses21:55  -->
</html>